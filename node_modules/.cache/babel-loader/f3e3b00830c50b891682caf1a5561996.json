{"ast":null,"code":"var _jsxFileName = \"/Users/joey/Documents/Codes/CMPS_450/Senior_Project/src/components/Panel/Main_Line/Hilburn.jsx\";\n\n/**\n * @file Hilburn.jsx\n * @author Joey Damico\n * @date September 25, 2019\n * @summary React JSX Component Class that is for Hilburn Interlocking\n *\n * @description Extends the React Component Class and is the UI part of the Hilburn Interlocking,\n * this class controls all the drawings of routes, and also gives a visual reprenstation\n * of that status of the interlocking\n */\n// Import React Component\nimport React, { Component } from 'react'; // Import CSS style sheet\n\nimport '../../../css/Main_Line/hilburn.css'; // Import Images\n// Switch Images\n\nimport SW_D_E from '../../../../public/images/SW_D_E.png';\nimport SW_D_E_Lined from '../../../../public/images/SW_D_E_Lined.png';\nimport SW_D_E_Occupied from '../../../../public/images/SW_D_E_Occupied.png';\nimport SW_D_E_R from '../../../../public/images/SW_D_E_R.png';\nimport SW_D_E_R_Lined from '../../../../public/images/SW_D_E_R_Lined.png';\nimport SW_D_E_R_Occupied from '../../../../public/images/SW_D_E_R_Occupied.png'; // Signal Images\n\nimport SIG_W from '../../../../public/images/SIG_W.png';\nimport SIG_W_Clear from '../../../../public/images/SIG_W_Clear.png';\nimport SIG_W_Stop from '../../../../public/images/SIG_W_Stop.png';\nimport SIG_E from '../../../../public/images/SIG_E.png';\nimport SIG_E_Clear from '../../../../public/images/SIG_E_Clear.png';\nimport SIG_E_Stop from '../../../../public/images/SIG_E_Stop.png'; // Color Constants For Drawing Routes\n\nconst Empty = '#999999';\nconst Green = '#75fa4c';\nconst Red = '#eb3323';\n/**\n * The React JSX Component Class for the Hilburn Interlocking\n * This class is a JSX React Component for the Hilburn Interlocking, this will control all the UI for the component,\n * and the click events that will pass reference between the backend and the user. This also controls drawing the \n * route drawings to show if a route(s) is setup in the interlocking or if the route is occupied\n */\n\nclass Hilburn extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      // Switch Status\n      sw_1: this.props.status.sw_1,\n      // Image File for the switch - Will change depending on route\n      sw_1_src: SW_D_E,\n      // Image File for the signals - Will change depending on route\n      sig_2w1_src: SIG_W,\n      sig_2w2_src: SIG_W,\n      sig_2e_src: SIG_E,\n      // Colors for tail tracks - Will change depending on route\n      tail_w: Empty,\n      tail_e: Empty,\n      tail_yard: Empty,\n      // Information For Interlocking Routes\n      occupied: this.props.status.occupied,\n      routes: this.props.status.routes\n    };\n\n    this.set_switch_img = () => {\n      // Set SW #1\n      // SW #1 Reversed\n      if (this.state.sw_1) {\n        this.state.sw_1_src = SW_D_E_R;\n      } // SW #1 Normal\n      else {\n          this.state.sw_1_src = SW_D_E;\n        }\n    };\n  }\n\n  /**\n   * componentWillReceiveProps()\n   * @summary Function that updates the state of the component\n   * \n   * @description The data that is being changed is passed down from the CTC classes in the simulation backend\n   * \n   * @param nextProps, the new data to set the component state too\n   */\n  componentWillReceiveProps(nextProps) {\n    this.setState({\n      sw_1: nextProps.status.sw_1,\n      occupied: nextProps.status.occupied,\n      routes: nextProps.status.routes\n    });\n  } // ---- END componentWillReceiveProps() ----\n\n  /**\n   * render()\n   * @summary standard React function that draws the interlocking to the screen\n   */\n\n\n  render() {\n    // Clear all the drawings from the interlocking so if a train clears the route is gone\n    this.reset_drawings(); // Set the switch images based off the state of each crossover\n\n    this.set_switch_img(); // Draw all the current routes in the interlocking\n\n    this.set_route_drawings(); // Returns the HTML to draw the interlocking and it's current state to the screen\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"hilburn_title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \"HILBURN\"), React.createElement(\"div\", {\n      className: \"hilburn_milepost\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \"MP 32.3\"), React.createElement(\"div\", {\n      className: \"hilburn_west\",\n      style: {\n        background: this.state.tail_w\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"hilburn_SW_1\",\n      onClick: this.props.throw_sw_1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: this.state.sw_1_src,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"hilburn_east\",\n      style: {\n        background: this.state.tail_e\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"hilburn_yard\",\n      style: {\n        background: this.state.tail_yard\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"hilburn_sig_2w-1\",\n      onClick: this.props.click_sig_2w_1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: this.state.sig_2w1_src,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"hilburn_sig_2w-2\",\n      onClick: this.props.click_sig_2w_2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: this.state.sig_2w2_src,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"hilburn_sig_2e\",\n      onClick: this.props.click_sig_2e,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: this.state.sig_2e_src,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    })));\n  } // ---- END render() ----\n\n  /**\n   * @summary Sets the drawing for the route through the interlocking\n   * \n   * @description Function takes what routes are currently set in the Interlocking class and displays that route in the UI, the drawing\n   * will change depending on if the interlocking is occupied or not\n   */\n\n\n  set_route_drawings() {\n    // Setting the color of the tracks depending on if the interlocking in occupied or not\n    let color = null;\n\n    if (this.state.occupied) {\n      color = Red;\n    } else {\n      color = Green;\n    } // Loop through all the routes\n\n\n    for (let i = 0; i < this.state.routes.length; i++) {\n      // Routes with Track 1 on both the West and East sides\n      if (this.state.routes[i] === \"W_1_1__|__2_sterling_hilburn\" || this.state.routes[i] === \"E_1_1__|__2_hilburn_sf\") {\n        // Tail Tracks\n        this.state.tail_e = color;\n        this.state.tail_w = color; // Drawing if the interlocking is occupied\n\n        if (this.state.occupied) {\n          // Switch Image\n          this.state.sw_1_src = SW_D_E_Occupied; // Signal Images\n\n          this.state.sig_2w1_src = SIG_W_Stop;\n          this.state.sig_2w2_src = SIG_W_Stop;\n          this.state.sig_2e_src = SIG_E_Stop;\n        } // Routing is not occupied\n        else {\n            // Switch Image\n            this.state.sw_1_src = SW_D_E_Lined; // Signal Images\n            // West Bound\n\n            if (this.state.routes[i] === \"W_1_1__|__2_sterling_hilburn\") {\n              this.state.sig_2w1_src = SIG_W_Clear;\n              this.state.sig_2w2_src = SIG_W_Stop;\n              this.state.sig_2e_src = SIG_E_Stop;\n            } // East Bound\n            else {\n                this.state.sig_2w1_src = SIG_W_Stop;\n                this.state.sig_2w2_src = SIG_W_Stop;\n                this.state.sig_2e_src = SIG_E_Clear;\n              }\n          }\n      } // Routes With Track 2 on West Side and Track 1 on East Side\n      else if (this.state.routes[i] === \"W_2_1__|__2_sterling_hilburn\" || this.state.routes[i] === \"E_1_2__|__0_hilburn_yardWest\") {\n          // Tail Tracks\n          this.state.tail_yard = color;\n          this.state.tail_w = color; // Drawing if the interlocking is occupied\n\n          if (this.state.occupied) {\n            // Switch Image\n            this.state.sw_1_src = SW_D_E_R_Occupied; // Signal Images\n\n            this.state.sig_2w1_src = SIG_W_Stop;\n            this.state.sig_2w2_src = SIG_W_Stop;\n            this.state.sig_2e_src = SIG_E_Stop;\n          } // Routing that is not occupied\n          else {\n              // Switch Image\n              this.state.sw_1_src = SW_D_E_R_Lined; // Signal Images\n              // West Bound Route\n\n              if (this.state.routes[i] === \"W_2_1__|__2_sterling_hilburn\") {\n                this.state.sig_2w1_src = SIG_W_Stop;\n                this.state.sig_2w2_src = SIG_W_Clear;\n                this.state.sig_2e_src = SIG_E_Stop;\n              } // East Bound Route\n              else {\n                  this.state.sig_2w1_src = SIG_W_Stop;\n                  this.state.sig_2w2_src = SIG_W_Stop;\n                  this.state.sig_2e_src = SIG_E_Clear;\n                }\n            }\n        }\n    }\n  } // ---- END set_route_drawings() ----\n\n  /**\n   * set_switch_img()\n   * @summary Changes image sources for the switches, depending on switch status\n   * \n   * This function uses the data passed in through status from the CTC classes and \n   * shows if the switches are reversed or not on the screen, by changing the image\n   * source files, to the correct .png file respectivly\n   */\n\n\n  // ---- END set_switch_img() ----\n\n  /**\n   * @summary Function to reset the signal images and track colors\n   * \n   * @description This function is need, because if the player was to remove a route,\n   * or when the train clears the interlocking nothing will clear the route\n   * the is displaying on the screen, even if it's gone in the backend\n   */\n  reset_drawings() {\n    this.state.sig_2w2_src = SIG_W;\n    this.state.sig_2w1_src = SIG_W;\n    this.state.sig_2e_src = SIG_E;\n    this.state.tail_w = Empty;\n    this.state.tail_e = Empty;\n    this.state.tail_yard = Empty;\n  } //---- END reset_drawings() ----\n\n\n} // Export the interlocking to be drawn on the screen\n\n\nexport default Hilburn;","map":{"version":3,"sources":["/Users/joey/Documents/Codes/CMPS_450/Senior_Project/src/components/Panel/Main_Line/Hilburn.jsx"],"names":["React","Component","SW_D_E","SW_D_E_Lined","SW_D_E_Occupied","SW_D_E_R","SW_D_E_R_Lined","SW_D_E_R_Occupied","SIG_W","SIG_W_Clear","SIG_W_Stop","SIG_E","SIG_E_Clear","SIG_E_Stop","Empty","Green","Red","Hilburn","state","sw_1","props","status","sw_1_src","sig_2w1_src","sig_2w2_src","sig_2e_src","tail_w","tail_e","tail_yard","occupied","routes","set_switch_img","componentWillReceiveProps","nextProps","setState","render","reset_drawings","set_route_drawings","background","throw_sw_1","click_sig_2w_1","click_sig_2w_2","click_sig_2e","color","i","length"],"mappings":"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","sourcesContent":["/**\n * @file Hilburn.jsx\n * @author Joey Damico\n * @date September 25, 2019\n * @summary React JSX Component Class that is for Hilburn Interlocking\n *\n * @description Extends the React Component Class and is the UI part of the Hilburn Interlocking,\n * this class controls all the drawings of routes, and also gives a visual reprenstation\n * of that status of the interlocking\n */\n\n// Import React Component\nimport React, { Component } from 'react';\n// Import CSS style sheet\nimport '../../../css/Main_Line/hilburn.css';\n\n// Import Images\n// Switch Images\nimport SW_D_E from '../../../../public/images/SW_D_E.png';\nimport SW_D_E_Lined from '../../../../public/images/SW_D_E_Lined.png';\nimport SW_D_E_Occupied from '../../../../public/images/SW_D_E_Occupied.png'\nimport SW_D_E_R from '../../../../public/images/SW_D_E_R.png';\nimport SW_D_E_R_Lined from '../../../../public/images/SW_D_E_R_Lined.png';\nimport SW_D_E_R_Occupied from '../../../../public/images/SW_D_E_R_Occupied.png';\n\n// Signal Images\nimport SIG_W from '../../../../public/images/SIG_W.png';\nimport SIG_W_Clear from '../../../../public/images/SIG_W_Clear.png';\nimport SIG_W_Stop from '../../../../public/images/SIG_W_Stop.png';\nimport SIG_E from '../../../../public/images/SIG_E.png';\nimport SIG_E_Clear from '../../../../public/images/SIG_E_Clear.png';\nimport SIG_E_Stop from '../../../../public/images/SIG_E_Stop.png';\n\n// Color Constants For Drawing Routes\nconst Empty = '#999999';\nconst Green = '#75fa4c';\nconst Red = '#eb3323';\n\n\n/**\n * The React JSX Component Class for the Hilburn Interlocking\n * This class is a JSX React Component for the Hilburn Interlocking, this will control all the UI for the component,\n * and the click events that will pass reference between the backend and the user. This also controls drawing the \n * route drawings to show if a route(s) is setup in the interlocking or if the route is occupied\n */\nclass Hilburn extends Component {\n    /**\n     * State\n     * @summary Object that holds the state or status information for the component\n     * \n     * @description This object holds all the information for the interlocking that is required to display the routes \n     * correctly Anything that has \"this.props.\" is passed down from the CTC interlocking class\n     */\n    state = {  \n        // Switch Status\n        sw_1: this.props.status.sw_1,\n        // Image File for the switch - Will change depending on route\n        sw_1_src: SW_D_E,\n        // Image File for the signals - Will change depending on route\n        sig_2w1_src: SIG_W,\n        sig_2w2_src: SIG_W,\n        sig_2e_src: SIG_E,\n        // Colors for tail tracks - Will change depending on route\n        tail_w: Empty,\n        tail_e: Empty,\n        tail_yard: Empty,\n        // Information For Interlocking Routes\n        occupied: this.props.status.occupied,\n        routes: this.props.status.routes\n    };\n\n    /**\n     * componentWillReceiveProps()\n     * @summary Function that updates the state of the component\n     * \n     * @description The data that is being changed is passed down from the CTC classes in the simulation backend\n     * \n     * @param nextProps, the new data to set the component state too\n     */\n    componentWillReceiveProps(nextProps){\n        this.setState({\n            sw_1: nextProps.status.sw_1,\n            occupied: nextProps.status.occupied,\n            routes: nextProps.status.routes\n        });\n    }\n    // ---- END componentWillReceiveProps() ----\n\n    /**\n     * render()\n     * @summary standard React function that draws the interlocking to the screen\n     */\n    render() { \n        // Clear all the drawings from the interlocking so if a train clears the route is gone\n        this.reset_drawings(); \n        // Set the switch images based off the state of each crossover\n        this.set_switch_img();\n        // Draw all the current routes in the interlocking\n        this.set_route_drawings();\n\n        // Returns the HTML to draw the interlocking and it's current state to the screen\n        return (  \n            <div>\n                {/* Tags */}\n                <div className=\"hilburn_title\">HILBURN</div>\n                <div className=\"hilburn_milepost\">MP 32.3</div>\n                {/* West Side Tail Tracks */}\n                <div className=\"hilburn_west\" style={{background: this.state.tail_w}}></div>\n                {/* Switches */}\n                <div className=\"hilburn_SW_1\" onClick={this.props.throw_sw_1}><img src={this.state.sw_1_src}/></div>\n                {/* East Side Tail Tracks */}\n                <div className=\"hilburn_east\" style={{background: this.state.tail_e}}></div>\n                <div className=\"hilburn_yard\" style={{background: this.state.tail_yard}}></div>\n                {/* Signals */}\n                <div className=\"hilburn_sig_2w-1\" onClick={this.props.click_sig_2w_1}><img src={this.state.sig_2w1_src}/></div>\n                <div className=\"hilburn_sig_2w-2\" onClick={this.props.click_sig_2w_2}><img src={this.state.sig_2w2_src}/></div>\n                <div className=\"hilburn_sig_2e\" onClick={this.props.click_sig_2e}><img src={this.state.sig_2e_src}/></div>\n            </div>\n        );\n    }\n    // ---- END render() ----\n\n    /**\n     * @summary Sets the drawing for the route through the interlocking\n     * \n     * @description Function takes what routes are currently set in the Interlocking class and displays that route in the UI, the drawing\n     * will change depending on if the interlocking is occupied or not\n     */\n    set_route_drawings() {\n        // Setting the color of the tracks depending on if the interlocking in occupied or not\n        let color = null;\n        if (this.state.occupied) {\n            color = Red;\n        }\n        else {\n            color = Green;\n        }\n\n        // Loop through all the routes\n        for (let i = 0; i < this.state.routes.length; i++) {\n            // Routes with Track 1 on both the West and East sides\n            if (this.state.routes[i] === \"W_1_1__|__2_sterling_hilburn\" || this.state.routes[i] === \"E_1_1__|__2_hilburn_sf\") {\n                // Tail Tracks\n                this.state.tail_e = color;\n                this.state.tail_w = color;\n\n                // Drawing if the interlocking is occupied\n                if (this.state.occupied) {\n                    // Switch Image\n                    this.state.sw_1_src = SW_D_E_Occupied;\n\n                    // Signal Images\n                    this.state.sig_2w1_src = SIG_W_Stop;\n                    this.state.sig_2w2_src = SIG_W_Stop;\n                    this.state.sig_2e_src = SIG_E_Stop;\n                }\n                // Routing is not occupied\n                else {\n                    // Switch Image\n                    this.state.sw_1_src = SW_D_E_Lined;\n\n                    // Signal Images\n                    // West Bound\n                    if (this.state.routes[i] === \"W_1_1__|__2_sterling_hilburn\") {\n                        this.state.sig_2w1_src = SIG_W_Clear;\n                        this.state.sig_2w2_src = SIG_W_Stop;\n                        this.state.sig_2e_src = SIG_E_Stop;\n                    }\n                    // East Bound\n                    else {\n                        this.state.sig_2w1_src = SIG_W_Stop;\n                        this.state.sig_2w2_src = SIG_W_Stop;\n                        this.state.sig_2e_src = SIG_E_Clear;\n                    }\n                }\n            }\n            // Routes With Track 2 on West Side and Track 1 on East Side\n            else if (this.state.routes[i] === \"W_2_1__|__2_sterling_hilburn\" || this.state.routes[i] === \"E_1_2__|__0_hilburn_yardWest\") {\n                // Tail Tracks\n                this.state.tail_yard = color;\n                this.state.tail_w = color;\n\n                // Drawing if the interlocking is occupied\n                if (this.state.occupied) {\n                    // Switch Image\n                    this.state.sw_1_src = SW_D_E_R_Occupied;\n\n                    // Signal Images\n                    this.state.sig_2w1_src = SIG_W_Stop;\n                    this.state.sig_2w2_src = SIG_W_Stop;\n                    this.state.sig_2e_src = SIG_E_Stop;\n                }\n                // Routing that is not occupied\n                else {\n                    // Switch Image\n                    this.state.sw_1_src = SW_D_E_R_Lined;\n\n                    // Signal Images\n                    // West Bound Route\n                    if (this.state.routes[i] === \"W_2_1__|__2_sterling_hilburn\") {\n                        this.state.sig_2w1_src = SIG_W_Stop;\n                        this.state.sig_2w2_src = SIG_W_Clear;\n                        this.state.sig_2e_src = SIG_E_Stop;\n                    }\n                    // East Bound Route\n                    else {\n                        this.state.sig_2w1_src = SIG_W_Stop;\n                        this.state.sig_2w2_src = SIG_W_Stop;\n                        this.state.sig_2e_src = SIG_E_Clear;\n                    }\n                }\n            }\n        }\n    }\n    // ---- END set_route_drawings() ----\n\n    /**\n     * set_switch_img()\n     * @summary Changes image sources for the switches, depending on switch status\n     * \n     * This function uses the data passed in through status from the CTC classes and \n     * shows if the switches are reversed or not on the screen, by changing the image\n     * source files, to the correct .png file respectivly\n     */\n    set_switch_img = () => {\n        // Set SW #1\n        // SW #1 Reversed\n        if (this.state.sw_1) {\n            this.state.sw_1_src = SW_D_E_R;\n        }\n        // SW #1 Normal\n        else {\n            this.state.sw_1_src = SW_D_E;\n        }\n    }\n    // ---- END set_switch_img() ----\n\n    /**\n     * @summary Function to reset the signal images and track colors\n     * \n     * @description This function is need, because if the player was to remove a route,\n     * or when the train clears the interlocking nothing will clear the route\n     * the is displaying on the screen, even if it's gone in the backend\n     */\n    reset_drawings() {\n        this.state.sig_2w2_src = SIG_W;\n        this.state.sig_2w1_src = SIG_W;\n        this.state.sig_2e_src = SIG_E;\n\n        this.state.tail_w = Empty;\n        this.state.tail_e = Empty;\n        this.state.tail_yard = Empty;\n    }\n    //---- END reset_drawings() ----\n}\n \n// Export the interlocking to be drawn on the screen\nexport default Hilburn;"]},"metadata":{},"sourceType":"module"}