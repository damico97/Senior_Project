{"ast":null,"code":"import _classCallCheck from\"/Users/joey/Documents/Codes/CMPS_450/Senior_Project/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/joey/Documents/Codes/CMPS_450/Senior_Project/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/joey/Documents/Codes/CMPS_450/Senior_Project/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/joey/Documents/Codes/CMPS_450/Senior_Project/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/joey/Documents/Codes/CMPS_450/Senior_Project/node_modules/@babel/runtime/helpers/esm/inherits\";/**\n * @file Hilburn.jsx\n * @author Joey Damico\n * @date September 25, 2019\n * @summary React JSX Component Class that is for Hilburn Interlocking\n *\n * @description Extends the React Component Class and is the UI part of the Hilburn Interlocking,\n * this class controls all the drawings of routes, and also gives a visual reprenstation\n * of that status of the interlocking\n */ // Import React Component\nimport React,{Component}from'react';// Import CSS style sheet\nimport'../../../css/Main_Line/hilburn.css';/*\n// Import Images\n// Switch Images\nimport SW_D_E from '../../../images/SW_D_E.png';\nimport SW_D_E_Lined from '../../../images/SW_D_E_Lined.png';\nimport SW_D_E_Occupied from '../../../images/SW_D_E_Occupied.png'\nimport SW_D_E_R from '../../../images/SW_D_E_R.png';\nimport SW_D_E_R_Lined from '../../../images/SW_D_E_R_Lined.png';\nimport SW_D_E_R_Occupied from '../../../images/SW_D_E_R_Occupied.png';\n\n// Signal Images\nimport SIG_W from '../../../images/SIG_W.png';\nimport SIG_W_Clear from '../../../images/SIG_W_Clear.png';\nimport SIG_W_Stop from '../../../images/SIG_W_Stop.png';\nimport SIG_E from '../../../images/SIG_E.png';\nimport SIG_E_Clear from '../../../images/SIG_E_Clear.png';\nimport SIG_E_Stop from '../../../images/SIG_E_Stop.png';\n*/ // Import Images\n// Switch Images\nimport SW_D_E from's3://damico-railroad-dispatch-simulator/images/SW_D_E.png';import SW_D_E_Lined from's3://damico-railroad-dispatch-simulator//images/SW_D_E_Lined.png';import SW_D_E_Occupied from's3://damico-railroad-dispatch-simulator//images/SW_D_E_Occupied.png';import SW_D_E_R from's3://damico-railroad-dispatch-simulator//images/SW_D_E_R.png';import SW_D_E_R_Lined from's3://damico-railroad-dispatch-simulator//images/SW_D_E_R_Lined.png';import SW_D_E_R_Occupied from's3://damico-railroad-dispatch-simulator//images/SW_D_E_R_Occupied.png';// Signal Images\nimport SIG_W from's3://damico-railroad-dispatch-simulator//images/SIG_W.png';import SIG_W_Clear from's3://damico-railroad-dispatch-simulator//images/SIG_W_Clear.png';import SIG_W_Stop from's3://damico-railroad-dispatch-simulator//images/SIG_W_Stop.png';import SIG_E from's3://damico-railroad-dispatch-simulator//images/SIG_E.png';import SIG_E_Clear from's3://damico-railroad-dispatch-simulator//images/SIG_E_Clear.png';import SIG_E_Stop from's3://damico-railroad-dispatch-simulator//images/SIG_E_Stop.png';// Color Constants For Drawing Routes\nvar Empty='#999999';var Green='#75fa4c';var Red='#eb3323';/**\n * The React JSX Component Class for the Hilburn Interlocking\n * This class is a JSX React Component for the Hilburn Interlocking, this will control all the UI for the component,\n * and the click events that will pass reference between the backend and the user. This also controls drawing the \n * route drawings to show if a route(s) is setup in the interlocking or if the route is occupied\n */var Hilburn=/*#__PURE__*/function(_Component){_inherits(Hilburn,_Component);function Hilburn(){var _getPrototypeOf2;var _this;_classCallCheck(this,Hilburn);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Hilburn)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={// Switch Status\nsw_1:_this.props.status.sw_1,// Image File for the switch - Will change depending on route\nsw_1_src:SW_D_E,// Image File for the signals - Will change depending on route\nsig_2w1_src:SIG_W,sig_2w2_src:SIG_W,sig_2e_src:SIG_E,// Colors for tail tracks - Will change depending on route\ntail_w:Empty,tail_e:Empty,tail_yard:Empty,// Information For Interlocking Routes\noccupied:_this.props.status.occupied,routes:_this.props.status.routes};_this.set_switch_img=function(){// Set SW #1\n// SW #1 Reversed\nif(_this.state.sw_1){_this.state.sw_1_src=SW_D_E_R;}// SW #1 Normal\nelse{_this.state.sw_1_src=SW_D_E;}};return _this;}_createClass(Hilburn,[{key:\"componentWillReceiveProps\",/**\n     * componentWillReceiveProps()\n     * @summary Function that updates the state of the component\n     * \n     * @description The data that is being changed is passed down from the CTC classes in the simulation backend\n     * \n     * @param nextProps, the new data to set the component state too\n     */value:function componentWillReceiveProps(nextProps){this.setState({sw_1:nextProps.status.sw_1,occupied:nextProps.status.occupied,routes:nextProps.status.routes});}// ---- END componentWillReceiveProps() ----\n/**\n     * render()\n     * @summary standard React function that draws the interlocking to the screen\n     */},{key:\"render\",value:function render(){// Clear all the drawings from the interlocking so if a train clears the route is gone\nthis.reset_drawings();// Set the switch images based off the state of each crossover\nthis.set_switch_img();// Draw all the current routes in the interlocking\nthis.set_route_drawings();// Returns the HTML to draw the interlocking and it's current state to the screen\nreturn React.createElement(\"div\",null,React.createElement(\"div\",{className:\"hilburn_title\"},\"HILBURN\"),React.createElement(\"div\",{className:\"hilburn_milepost\"},\"MP 32.3\"),React.createElement(\"div\",{className:\"hilburn_west\",style:{background:this.state.tail_w}}),React.createElement(\"div\",{className:\"hilburn_SW_1\",onClick:this.props.throw_sw_1},React.createElement(\"img\",{alt:\"\",src:this.state.sw_1_src})),React.createElement(\"div\",{className:\"hilburn_east\",style:{background:this.state.tail_e}}),React.createElement(\"div\",{className:\"hilburn_yard\",style:{background:this.state.tail_yard}}),React.createElement(\"div\",{className:\"hilburn_sig_2w-1\",onClick:this.props.click_sig_2w_1},React.createElement(\"img\",{alt:\"\",src:this.state.sig_2w1_src})),React.createElement(\"div\",{className:\"hilburn_sig_2w-2\",onClick:this.props.click_sig_2w_2},React.createElement(\"img\",{alt:\"\",src:this.state.sig_2w2_src})),React.createElement(\"div\",{className:\"hilburn_sig_2e\",onClick:this.props.click_sig_2e},React.createElement(\"img\",{alt:\"\",src:this.state.sig_2e_src})));}// ---- END render() ----\n/**\n     * @summary Sets the drawing for the route through the interlocking\n     * \n     * @description Function takes what routes are currently set in the Interlocking class and displays that route in the UI, the drawing\n     * will change depending on if the interlocking is occupied or not\n     */},{key:\"set_route_drawings\",value:function set_route_drawings(){// Setting the color of the tracks depending on if the interlocking in occupied or not\nvar color=null;if(this.state.occupied){color=Red;}else{color=Green;}// Loop through all the routes\nfor(var i=0;i<this.state.routes.length;i++){// Routes with Track 1 on both the West and East sides\nif(this.state.routes[i]===\"W_1_1__|__2_sterling_hilburn\"||this.state.routes[i]===\"E_1_1__|__2_hilburn_sf\"){// Tail Tracks\nthis.state.tail_e=color;this.state.tail_w=color;// Drawing if the interlocking is occupied\nif(this.state.occupied){// Switch Image\nthis.state.sw_1_src=SW_D_E_Occupied;// Signal Images\nthis.state.sig_2w1_src=SIG_W_Stop;this.state.sig_2w2_src=SIG_W_Stop;this.state.sig_2e_src=SIG_E_Stop;}// Routing is not occupied\nelse{// Switch Image\nthis.state.sw_1_src=SW_D_E_Lined;// Signal Images\n// West Bound\nif(this.state.routes[i]===\"W_1_1__|__2_sterling_hilburn\"){this.state.sig_2w1_src=SIG_W_Clear;this.state.sig_2w2_src=SIG_W_Stop;this.state.sig_2e_src=SIG_E_Stop;}// East Bound\nelse{this.state.sig_2w1_src=SIG_W_Stop;this.state.sig_2w2_src=SIG_W_Stop;this.state.sig_2e_src=SIG_E_Clear;}}}// Routes With Track 2 on West Side and Track 1 on East Side\nelse if(this.state.routes[i]===\"W_2_1__|__2_sterling_hilburn\"||this.state.routes[i]===\"E_1_2__|__0_hilburn_yardWest\"){// Tail Tracks\nthis.state.tail_yard=color;this.state.tail_w=color;// Drawing if the interlocking is occupied\nif(this.state.occupied){// Switch Image\nthis.state.sw_1_src=SW_D_E_R_Occupied;// Signal Images\nthis.state.sig_2w1_src=SIG_W_Stop;this.state.sig_2w2_src=SIG_W_Stop;this.state.sig_2e_src=SIG_E_Stop;}// Routing that is not occupied\nelse{// Switch Image\nthis.state.sw_1_src=SW_D_E_R_Lined;// Signal Images\n// West Bound Route\nif(this.state.routes[i]===\"W_2_1__|__2_sterling_hilburn\"){this.state.sig_2w1_src=SIG_W_Stop;this.state.sig_2w2_src=SIG_W_Clear;this.state.sig_2e_src=SIG_E_Stop;}// East Bound Route\nelse{this.state.sig_2w1_src=SIG_W_Stop;this.state.sig_2w2_src=SIG_W_Stop;this.state.sig_2e_src=SIG_E_Clear;}}}}}// ---- END set_route_drawings() ----\n/**\n     * set_switch_img()\n     * @summary Changes image sources for the switches, depending on switch status\n     * \n     * This function uses the data passed in through status from the CTC classes and \n     * shows if the switches are reversed or not on the screen, by changing the image\n     * source files, to the correct .png file respectivly\n     */},{key:\"reset_drawings\",// ---- END set_switch_img() ----\n/**\n     * @summary Function to reset the signal images and track colors\n     * \n     * @description This function is need, because if the player was to remove a route,\n     * or when the train clears the interlocking nothing will clear the route\n     * the is displaying on the screen, even if it's gone in the backend\n     */value:function reset_drawings(){this.state.sig_2w2_src=SIG_W;this.state.sig_2w1_src=SIG_W;this.state.sig_2e_src=SIG_E;this.state.tail_w=Empty;this.state.tail_e=Empty;this.state.tail_yard=Empty;}//---- END reset_drawings() ----\n}]);return Hilburn;}(Component);// Export the interlocking to be drawn on the screen\nexport default Hilburn;","map":{"version":3,"sources":["/Users/joey/Documents/Codes/CMPS_450/Senior_Project/src/components/Panel/Main_Line/Hilburn.jsx"],"names":["React","Component","SW_D_E","SW_D_E_Lined","SW_D_E_Occupied","SW_D_E_R","SW_D_E_R_Lined","SW_D_E_R_Occupied","SIG_W","SIG_W_Clear","SIG_W_Stop","SIG_E","SIG_E_Clear","SIG_E_Stop","Empty","Green","Red","Hilburn","state","sw_1","props","status","sw_1_src","sig_2w1_src","sig_2w2_src","sig_2e_src","tail_w","tail_e","tail_yard","occupied","routes","set_switch_img","nextProps","setState","reset_drawings","set_route_drawings","background","throw_sw_1","click_sig_2w_1","click_sig_2w_2","click_sig_2e","color","i","length"],"mappings":"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","sourcesContent":["/**\n * @file Hilburn.jsx\n * @author Joey Damico\n * @date September 25, 2019\n * @summary React JSX Component Class that is for Hilburn Interlocking\n *\n * @description Extends the React Component Class and is the UI part of the Hilburn Interlocking,\n * this class controls all the drawings of routes, and also gives a visual reprenstation\n * of that status of the interlocking\n */\n\n// Import React Component\nimport React, { Component } from 'react';\n// Import CSS style sheet\nimport '../../../css/Main_Line/hilburn.css';\n\n/*\n// Import Images\n// Switch Images\nimport SW_D_E from '../../../images/SW_D_E.png';\nimport SW_D_E_Lined from '../../../images/SW_D_E_Lined.png';\nimport SW_D_E_Occupied from '../../../images/SW_D_E_Occupied.png'\nimport SW_D_E_R from '../../../images/SW_D_E_R.png';\nimport SW_D_E_R_Lined from '../../../images/SW_D_E_R_Lined.png';\nimport SW_D_E_R_Occupied from '../../../images/SW_D_E_R_Occupied.png';\n\n// Signal Images\nimport SIG_W from '../../../images/SIG_W.png';\nimport SIG_W_Clear from '../../../images/SIG_W_Clear.png';\nimport SIG_W_Stop from '../../../images/SIG_W_Stop.png';\nimport SIG_E from '../../../images/SIG_E.png';\nimport SIG_E_Clear from '../../../images/SIG_E_Clear.png';\nimport SIG_E_Stop from '../../../images/SIG_E_Stop.png';\n*/\n\n// Import Images\n// Switch Images\nimport SW_D_E from 's3://damico-railroad-dispatch-simulator/images/SW_D_E.png';\nimport SW_D_E_Lined from 's3://damico-railroad-dispatch-simulator//images/SW_D_E_Lined.png';\nimport SW_D_E_Occupied from 's3://damico-railroad-dispatch-simulator//images/SW_D_E_Occupied.png'\nimport SW_D_E_R from 's3://damico-railroad-dispatch-simulator//images/SW_D_E_R.png';\nimport SW_D_E_R_Lined from 's3://damico-railroad-dispatch-simulator//images/SW_D_E_R_Lined.png';\nimport SW_D_E_R_Occupied from 's3://damico-railroad-dispatch-simulator//images/SW_D_E_R_Occupied.png';\n\n// Signal Images\nimport SIG_W from 's3://damico-railroad-dispatch-simulator//images/SIG_W.png';\nimport SIG_W_Clear from 's3://damico-railroad-dispatch-simulator//images/SIG_W_Clear.png';\nimport SIG_W_Stop from 's3://damico-railroad-dispatch-simulator//images/SIG_W_Stop.png';\nimport SIG_E from 's3://damico-railroad-dispatch-simulator//images/SIG_E.png';\nimport SIG_E_Clear from 's3://damico-railroad-dispatch-simulator//images/SIG_E_Clear.png';\nimport SIG_E_Stop from 's3://damico-railroad-dispatch-simulator//images/SIG_E_Stop.png';\n\n// Color Constants For Drawing Routes\nconst Empty = '#999999';\nconst Green = '#75fa4c';\nconst Red = '#eb3323';\n\n\n/**\n * The React JSX Component Class for the Hilburn Interlocking\n * This class is a JSX React Component for the Hilburn Interlocking, this will control all the UI for the component,\n * and the click events that will pass reference between the backend and the user. This also controls drawing the \n * route drawings to show if a route(s) is setup in the interlocking or if the route is occupied\n */\nclass Hilburn extends Component {\n    /**\n     * State\n     * @summary Object that holds the state or status information for the component\n     * \n     * @description This object holds all the information for the interlocking that is required to display the routes \n     * correctly Anything that has \"this.props.\" is passed down from the CTC interlocking class\n     */\n    state = {  \n        // Switch Status\n        sw_1: this.props.status.sw_1,\n        // Image File for the switch - Will change depending on route\n        sw_1_src: SW_D_E,\n        // Image File for the signals - Will change depending on route\n        sig_2w1_src: SIG_W,\n        sig_2w2_src: SIG_W,\n        sig_2e_src: SIG_E,\n        // Colors for tail tracks - Will change depending on route\n        tail_w: Empty,\n        tail_e: Empty,\n        tail_yard: Empty,\n        // Information For Interlocking Routes\n        occupied: this.props.status.occupied,\n        routes: this.props.status.routes\n    };\n\n    /**\n     * componentWillReceiveProps()\n     * @summary Function that updates the state of the component\n     * \n     * @description The data that is being changed is passed down from the CTC classes in the simulation backend\n     * \n     * @param nextProps, the new data to set the component state too\n     */\n    componentWillReceiveProps(nextProps){\n        this.setState({\n            sw_1: nextProps.status.sw_1,\n            occupied: nextProps.status.occupied,\n            routes: nextProps.status.routes\n        });\n    }\n    // ---- END componentWillReceiveProps() ----\n\n    /**\n     * render()\n     * @summary standard React function that draws the interlocking to the screen\n     */\n    render() { \n        // Clear all the drawings from the interlocking so if a train clears the route is gone\n        this.reset_drawings(); \n        // Set the switch images based off the state of each crossover\n        this.set_switch_img();\n        // Draw all the current routes in the interlocking\n        this.set_route_drawings();\n\n        // Returns the HTML to draw the interlocking and it's current state to the screen\n        return (  \n            <div>\n                {/* Tags */}\n                <div className=\"hilburn_title\">HILBURN</div>\n                <div className=\"hilburn_milepost\">MP 32.3</div>\n                {/* West Side Tail Tracks */}\n                <div className=\"hilburn_west\" style={{background: this.state.tail_w}}></div>\n                {/* Switches */}\n                <div className=\"hilburn_SW_1\" onClick={this.props.throw_sw_1}><img alt=\"\" src={this.state.sw_1_src}/></div>\n                {/* East Side Tail Tracks */}\n                <div className=\"hilburn_east\" style={{background: this.state.tail_e}}></div>\n                <div className=\"hilburn_yard\" style={{background: this.state.tail_yard}}></div>\n                {/* Signals */}\n                <div className=\"hilburn_sig_2w-1\" onClick={this.props.click_sig_2w_1}><img alt=\"\" src={this.state.sig_2w1_src}/></div>\n                <div className=\"hilburn_sig_2w-2\" onClick={this.props.click_sig_2w_2}><img alt=\"\" src={this.state.sig_2w2_src}/></div>\n                <div className=\"hilburn_sig_2e\" onClick={this.props.click_sig_2e}><img alt=\"\" src={this.state.sig_2e_src}/></div>\n            </div>\n        );\n    }\n    // ---- END render() ----\n\n    /**\n     * @summary Sets the drawing for the route through the interlocking\n     * \n     * @description Function takes what routes are currently set in the Interlocking class and displays that route in the UI, the drawing\n     * will change depending on if the interlocking is occupied or not\n     */\n    set_route_drawings() {\n        // Setting the color of the tracks depending on if the interlocking in occupied or not\n        let color = null;\n        if (this.state.occupied) {\n            color = Red;\n        }\n        else {\n            color = Green;\n        }\n\n        // Loop through all the routes\n        for (let i = 0; i < this.state.routes.length; i++) {\n            // Routes with Track 1 on both the West and East sides\n            if (this.state.routes[i] === \"W_1_1__|__2_sterling_hilburn\" || this.state.routes[i] === \"E_1_1__|__2_hilburn_sf\") {\n                // Tail Tracks\n                this.state.tail_e = color;\n                this.state.tail_w = color;\n\n                // Drawing if the interlocking is occupied\n                if (this.state.occupied) {\n                    // Switch Image\n                    this.state.sw_1_src = SW_D_E_Occupied;\n\n                    // Signal Images\n                    this.state.sig_2w1_src = SIG_W_Stop;\n                    this.state.sig_2w2_src = SIG_W_Stop;\n                    this.state.sig_2e_src = SIG_E_Stop;\n                }\n                // Routing is not occupied\n                else {\n                    // Switch Image\n                    this.state.sw_1_src = SW_D_E_Lined;\n\n                    // Signal Images\n                    // West Bound\n                    if (this.state.routes[i] === \"W_1_1__|__2_sterling_hilburn\") {\n                        this.state.sig_2w1_src = SIG_W_Clear;\n                        this.state.sig_2w2_src = SIG_W_Stop;\n                        this.state.sig_2e_src = SIG_E_Stop;\n                    }\n                    // East Bound\n                    else {\n                        this.state.sig_2w1_src = SIG_W_Stop;\n                        this.state.sig_2w2_src = SIG_W_Stop;\n                        this.state.sig_2e_src = SIG_E_Clear;\n                    }\n                }\n            }\n            // Routes With Track 2 on West Side and Track 1 on East Side\n            else if (this.state.routes[i] === \"W_2_1__|__2_sterling_hilburn\" || this.state.routes[i] === \"E_1_2__|__0_hilburn_yardWest\") {\n                // Tail Tracks\n                this.state.tail_yard = color;\n                this.state.tail_w = color;\n\n                // Drawing if the interlocking is occupied\n                if (this.state.occupied) {\n                    // Switch Image\n                    this.state.sw_1_src = SW_D_E_R_Occupied;\n\n                    // Signal Images\n                    this.state.sig_2w1_src = SIG_W_Stop;\n                    this.state.sig_2w2_src = SIG_W_Stop;\n                    this.state.sig_2e_src = SIG_E_Stop;\n                }\n                // Routing that is not occupied\n                else {\n                    // Switch Image\n                    this.state.sw_1_src = SW_D_E_R_Lined;\n\n                    // Signal Images\n                    // West Bound Route\n                    if (this.state.routes[i] === \"W_2_1__|__2_sterling_hilburn\") {\n                        this.state.sig_2w1_src = SIG_W_Stop;\n                        this.state.sig_2w2_src = SIG_W_Clear;\n                        this.state.sig_2e_src = SIG_E_Stop;\n                    }\n                    // East Bound Route\n                    else {\n                        this.state.sig_2w1_src = SIG_W_Stop;\n                        this.state.sig_2w2_src = SIG_W_Stop;\n                        this.state.sig_2e_src = SIG_E_Clear;\n                    }\n                }\n            }\n        }\n    }\n    // ---- END set_route_drawings() ----\n\n    /**\n     * set_switch_img()\n     * @summary Changes image sources for the switches, depending on switch status\n     * \n     * This function uses the data passed in through status from the CTC classes and \n     * shows if the switches are reversed or not on the screen, by changing the image\n     * source files, to the correct .png file respectivly\n     */\n    set_switch_img = () => {\n        // Set SW #1\n        // SW #1 Reversed\n        if (this.state.sw_1) {\n            this.state.sw_1_src = SW_D_E_R;\n        }\n        // SW #1 Normal\n        else {\n            this.state.sw_1_src = SW_D_E;\n        }\n    }\n    // ---- END set_switch_img() ----\n\n    /**\n     * @summary Function to reset the signal images and track colors\n     * \n     * @description This function is need, because if the player was to remove a route,\n     * or when the train clears the interlocking nothing will clear the route\n     * the is displaying on the screen, even if it's gone in the backend\n     */\n    reset_drawings() {\n        this.state.sig_2w2_src = SIG_W;\n        this.state.sig_2w1_src = SIG_W;\n        this.state.sig_2e_src = SIG_E;\n\n        this.state.tail_w = Empty;\n        this.state.tail_e = Empty;\n        this.state.tail_yard = Empty;\n    }\n    //---- END reset_drawings() ----\n}\n \n// Export the interlocking to be drawn on the screen\nexport default Hilburn;"]},"metadata":{},"sourceType":"module"}